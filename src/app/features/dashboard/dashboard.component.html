<div class="dashboard">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <h2>ğŸ“ SGE</h2>
      <p>Sistema de GestiÃ³n</p>
    </div>

    <div class="user-info">
      <div class="user-avatar">
        {{ currentUser?.nombre?.charAt(0) || 'U' }}
      </div>
      <h3>{{ currentUser?.nombre }}</h3>
      <span class="role-badge" [ngClass]="'role-' + currentUser?.rol">
        {{ currentUser?.rol }}
      </span>
    </div>

    <ul class="menu">
      <li>
        <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <span class="icon">ğŸ </span>
          <span class="text">Dashboard</span>
        </a>
      </li>

      <!-- Opciones para Admin -->
      <li *ngIf="isAdmin()">
        <a routerLink="/usuarios" routerLinkActive="active">
          <span class="icon">ğŸ‘¥</span>
          <span class="text">Usuarios</span>
        </a>
      </li>

      <!-- Opciones para Admin y Profesor -->
      <li *ngIf="isAdmin() || isProfesor()">
        <a routerLink="/cursos" routerLinkActive="active">
          <span class="icon">ğŸ“š</span>
          <span class="text">Cursos</span>
        </a>
      </li>

      <!-- Opciones para Estudiante -->
      <li *ngIf="isEstudiante()">
        <a routerLink="/mis-cursos" routerLinkActive="active">
          <span class="icon">ğŸ“š</span>
          <span class="text">Mis Cursos</span>
        </a>
      </li>

      <li class="menu-divider"></li>

      <li>
        <a routerLink="/perfil" routerLinkActive="active">
          <span class="icon">ğŸ‘¤</span>
          <span class="text">Mi Perfil</span>
        </a>
      </li>

      <li>
        <a (click)="logout()" class="logout">
          <span class="icon">ğŸšª</span>
          <span class="text">Cerrar SesiÃ³n</span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Main Content -->
  <main class="content">
    <div class="content-header">
      <h1>Â¡Bienvenido, {{ currentUser?.nombre }}!</h1>
      <p class="subtitle">Panel de control del sistema</p>
    </div>

    <div class="cards">
      <!-- Card para Admin -->
      <div class="card card-users" *ngIf="isAdmin()">
        <div class="card-icon">ğŸ‘¥</div>
        <div class="card-content">
          <h3>Total Usuarios</h3>
          <p class="number">{{ totalUsuarios }}</p>
          <span class="card-label">Usuarios registrados</span>
        </div>
      </div>

      <!-- Card de Cursos (todos los roles) -->
      <div class="card card-courses">
        <div class="card-icon">ğŸ“š</div>
        <div class="card-content">
          <h3>{{ isEstudiante() ? 'Mis Cursos' : 'Total Cursos' }}</h3>
          <p class="number">{{ isEstudiante() ? cursosInscritos : totalCursos }}</p>
          <span class="card-label">{{ isEstudiante() ? 'Cursos inscritos' : 'Cursos disponibles' }}</span>
        </div>
      </div>

      <!-- Card para Profesores -->
      <div class="card card-students" *ngIf="isProfesor()">
        <div class="card-icon">ğŸ“</div>
        <div class="card-content">
          <h3>Cursos Asignados</h3>
          <p class="number">{{ totalCursos }}</p>
          <span class="card-label">Cursos disponibles</span>
        </div>
      </div>

      <!-- Card de Cursos Disponibles para Estudiantes -->
      <div class="card card-activity" *ngIf="isEstudiante()">
        <div class="card-icon">ğŸ“–</div>
        <div class="card-content">
          <h3>Disponibles</h3>
          <p class="number">{{ totalCursos }}</p>
          <span class="card-label">Cursos para inscribir</span>
        </div>
      </div>

      <!-- Card de Actividad para Admin/Profesor -->
      <div class="card card-activity" *ngIf="!isEstudiante()">
        <div class="card-icon">ğŸ“Š</div>
        <div class="card-content">
          <h3>Sistema</h3>
          <p class="number">{{ isAdmin() ? '100%' : '95%' }}</p>
          <span class="card-label">Nivel de actividad</span>
        </div>
      </div>
    </div>

    <!-- SecciÃ³n de acceso rÃ¡pido -->
    <div class="quick-access">
      <h2>Acceso RÃ¡pido</h2>
      <div class="quick-buttons">
        <button class="quick-btn" *ngIf="isAdmin()" routerLink="/usuarios">
          <span>â•</span>
          Nuevo Usuario
        </button>
        <button class="quick-btn" *ngIf="isAdmin() || isProfesor()" routerLink="/cursos">
          <span>â•</span>
          Nuevo Curso
        </button>
        <button class="quick-btn" *ngIf="isEstudiante()" routerLink="/mis-cursos">
          <span>ğŸ“š</span>
          Ver Mis Cursos
        </button>
        <button class="quick-btn" routerLink="/perfil">
          <span>ğŸ‘¤</span>
          Mi Perfil
        </button>
      </div>
    </div>

    <!-- InformaciÃ³n del rol -->
    <div class="info-panel">
      <h3>InformaciÃ³n de tu Rol</h3>
      <div *ngIf="isAdmin()" class="role-info">
        <p>âœ… Como <strong>Administrador</strong> tienes acceso completo al sistema:</p>
        <ul>
          <li>GestiÃ³n de usuarios (crear, editar, eliminar)</li>
          <li>GestiÃ³n de cursos</li>
          <li>Acceso a reportes y estadÃ­sticas</li>
          <li>ConfiguraciÃ³n del sistema</li>
        </ul>
      </div>
      <div *ngIf="isProfesor()" class="role-info">
        <p>âœ… Como <strong>Profesor</strong> puedes:</p>
        <ul>
          <li>Gestionar tus cursos</li>
          <li>Ver estudiantes inscritos</li>
          <li>Subir materiales y recursos</li>
          <li>Calificar y dar retroalimentaciÃ³n</li>
        </ul>
      </div>
      <div *ngIf="isEstudiante()" class="role-info">
        <p>âœ… Como <strong>Estudiante</strong> puedes:</p>
        <ul>
          <li>Inscribirte a cursos disponibles</li>
          <li>Ver tus cursos inscritos</li>
          <li>Desinscribirte de cursos</li>
          <li>Gestionar tu perfil de usuario</li>
        </ul>
      </div>
    </div>
  </main>
</div>
