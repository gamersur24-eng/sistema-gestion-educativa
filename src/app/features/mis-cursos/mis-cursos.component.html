<div class="dashboard">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <h2>ğŸ“ SGE</h2>
    </div>
    <ul class="menu">
      <li><a routerLink="/dashboard"><span>ğŸ </span> Dashboard</a></li>
      <li><a routerLink="/mis-cursos" class="active"><span>ğŸ“š</span> Mis Cursos</a></li>
      <li><a routerLink="/perfil"><span>ğŸ‘¤</span> Mi Perfil</a></li>
      <li><a (click)="logout()" class="logout"><span>ğŸšª</span> Cerrar SesiÃ³n</a></li>
    </ul>
  </nav>

  <!-- Main Content -->
  <main class="content">
    <div class="container">
      <!-- SecciÃ³n: Mis Cursos Inscritos -->
      <div class="header">
        <h1>ğŸ“š Mis Cursos</h1>
        <p class="subtitle">Gestiona tus cursos inscritos</p>
      </div>

      <div class="cursos-inscritos-section" *ngIf="cursosInscritos.length > 0">
        <h2 class="section-title">âœ… Cursos Inscritos ({{ cursosInscritos.length }})</h2>
        
        <div class="cursos-grid">
          <div class="curso-card inscrito" *ngFor="let curso of cursosInscritos">
            <div class="curso-header">
              <h3>{{ curso.nombre }}</h3>
              <span class="badge-creditos">{{ curso.creditos }} crÃ©ditos</span>
            </div>
            <p class="curso-descripcion">{{ curso.descripcion }}</p>
            <div class="curso-info">
              <span class="info-item">
                <strong>ğŸ‘¨â€ğŸ« Profesor:</strong> {{ curso.profesor }}
              </span>
              <span class="info-item">
                <strong>ğŸ“… Inscrito:</strong> {{ curso.fechaInscripcion }}
              </span>
            </div>
            <button class="btn-desinscribir" (click)="desinscribirse(curso)">
              âŒ Desinscribirse
            </button>
          </div>
        </div>
      </div>

      <div class="empty-state" *ngIf="cursosInscritos.length === 0 && !loading">
        <div class="empty-icon">ğŸ“š</div>
        <h3>No estÃ¡s inscrito en ningÃºn curso</h3>
        <p>Explora los cursos disponibles abajo y comienza a aprender</p>
      </div>

      <!-- SecciÃ³n: Cursos Disponibles -->
      <div class="cursos-disponibles-section">
        <h2 class="section-title">ğŸ” Cursos Disponibles</h2>
        
        <app-search-bar
          placeholder="Buscar cursos por nombre, descripciÃ³n o profesor..."
          (search)="onSearch($event)"
        ></app-search-bar>

        <div *ngIf="loading" class="loading">
          <div class="spinner"></div>
          <p>Cargando cursos...</p>
        </div>

        <div class="cursos-grid" *ngIf="!loading">
          <div class="curso-card" *ngFor="let curso of filteredCursos">
            <div class="curso-header">
              <h3>{{ curso.nombre }}</h3>
              <span class="badge-creditos">{{ curso.creditos }} crÃ©ditos</span>
            </div>
            <p class="curso-descripcion">{{ curso.descripcion }}</p>
            <div class="curso-info">
              <span class="info-item">
                <strong>ğŸ‘¨â€ğŸ« Profesor:</strong> {{ curso.profesor }}
              </span>
            </div>
            
            <button 
              *ngIf="!estaInscrito(curso.id!)" 
              class="btn-inscribir"
              (click)="inscribirse(curso)"
            >
              â• Inscribirse
            </button>
            
            <button 
              *ngIf="estaInscrito(curso.id!)" 
              class="btn-inscrito"
              disabled
            >
              âœ“ Ya inscrito
            </button>
          </div>
        </div>

        <div class="empty-state" *ngIf="!loading && filteredCursos.length === 0">
          <div class="empty-icon">ğŸ”</div>
          <h3>No se encontraron cursos</h3>
          <p>Intenta con otra bÃºsqueda</p>
        </div>
      </div>
    </div>
  </main>
</div>
